"use client";import{useEffect as x,useState as L}from"react";function f(t,r){if(!r)return t;let e=!1;return function(...l){let o=this;e||(t.apply(o,l),e=!0,setTimeout(()=>e=!1,r))}}var v={scrollTop:0,scrollLeft:0,ratioV:0,ratioH:0,maxScrollTop:0,maxScrollLeft:0};function D(t,r=0){let[e,l]=L(v);return x(()=>{let o=t.current;if(!o)return;let a=f(s=>{if(!s.target)return;let{scrollTop:i,scrollLeft:u,scrollHeight:d,scrollWidth:p,clientHeight:m,clientWidth:T}=s.target,n=d-m,c=p-T,h=n>0?i/n:0,S=c>0?u/c:0;l({scrollLeft:u,scrollTop:i,ratioH:S,ratioV:h,maxScrollTop:n,maxScrollLeft:c})},r);return o.addEventListener("scroll",a,{capture:!0}),()=>o.removeEventListener("scroll",a)},[t]),e}export{D as default};
